var basemap = require('users/pinkychow1010/WB_IntraUrban:basemap_resources');

basemap.addCustomBasemap('MutedMonotone');
Map.setCenter(70, 30, 4.5);

function changeApp(layerKey) {
  ui.root.clear();
  ui.root.add(ui.Map());
  basemap.addCustomBasemap('MutedMonotone');
  //Map.setOptions('HYBRID');
}

var desciption_label = ui.Label({
    value: "",
    style: {color: '#FFFFFF', fontWeight: 'normal', fontSize: '14px'}
  });

function changeDescription(value) {
  desciption_label.setValue(value);
  return(value);
}

var urban_heat = "This app analyses the Landsat-derived Land Surface Temperature during the last summer";
var land_use_cover_ratio = "This app analyses the proportion of different land use cover within a global admin boundary.";

var selection = ui.Select({
  placeholder: 'Select analysis to begin with...',
  items: [
    {value: land_use_cover_ratio, label: 'Land use cover ratio'}, 
    {value: urban_heat, label: 'Urban Heat Analysis'},
    // {value: 'App3', label: 'third app...'},
    // {value: 'App4', label: 'fourth app...'}
  ],
  onChange: changeDescription
});


// var img = ui.Chart(
//     [
//       ['<img src= width=500px>']
//     ],
//     'Table', {allowHtml: true});


// var figurePanel = ui.Panel([img], 'flow', {width: '500px', padding: '8px', stretch: 'horizontal'});


function createPanel(selection, description_label) {
  var title = ui.Label({
    value: 'World Bank Intra-urban Analysis Explorer ðŸŒŽ',
    style: {color: '#FFFFFF', fontWeight: 'bold', fontSize: '22px', textAlign: 'left'}
  })
  
  var description = ui.Label({
    value: 'Welcome to the explorer! Satellite data is a powerful mean to collect data timely, \nderiving information useful for urban planning and disaster management.\nThis tool allow you to perform multiple EO-based analysis in the urban regions in the globe,\nincluding urban heat and land use cover change analysis. ',
    style: {color: '#FFFFFF', fontWeight: 'normal', fontSize: '16px', whiteSpace: 'pre', textAlign: 'left'}
  })
  
  title.style().set('backgroundColor', '#002244');
  description.style().set('backgroundColor', '#002244');
  
  var content = ui.Panel([title, description, selection, description_label], null, {stretch:'vertical'});
  content.style().set('backgroundColor', '#002244');
  var page = ui.Panel([
    content
  ])
  
  page.style().set('backgroundColor', '#002244');
  return page
}

var main_page = createPanel(selection, desciption_label);

//ui.root.clear()
ui.root.add(main_page)



